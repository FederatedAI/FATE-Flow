
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../fate_flow_component_registry/">
      
      
        <link rel="next" href="../fate_flow_resource_management/">
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-9.0.4">
    
    
      
        <title>Multi-Party Job&Task Scheduling - FATE Flow</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.9c788c91.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.2505c338.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../mkdocs/css/termynal.css">
    
      <link rel="stylesheet" href="../mkdocs/css/custom.css">
    
      <link rel="stylesheet" href="../mkdocs/css/extra.css">
    
      <link rel="stylesheet" href="../mkdocs/css/landing.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#multi-party-jobtask-scheduling" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="FATE Flow" class="md-header__button md-logo" aria-label="FATE Flow" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            FATE Flow
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Multi-Party Job&Task Scheduling
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
            </label>
          
        
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
            </label>
          
        
      </form>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24Z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href=".." hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
              
                <li class="md-select__item">
                  <a href="../zh/" hreflang="zh" class="md-select__link">
                    中文
                  </a>
                </li>
              
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/FederatedAI/FATE-Flow" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    FederatedAI/FATE-Flow
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href=".." class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../document_navigation/" class="md-tabs__link md-tabs__link--active">
        Docs
      </a>
    </li>
  

      
        
  
  


  <li class="md-tabs__item">
    <a href="../swagger/" class="md-tabs__link">
      API
    </a>
  </li>

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="FATE Flow" class="md-nav__button md-logo" aria-label="FATE Flow" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    FATE Flow
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/FederatedAI/FATE-Flow" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    FederatedAI/FATE-Flow
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
      
      
        <label class="md-nav__link" for="__nav_2" tabindex="0" aria-expanded="true">
          Docs
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Docs" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Docs
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../document_navigation/" class="md-nav__link">
        Document Navigation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow/" class="md-nav__link">
        Overall Design
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_data_access/" class="md-nav__link">
        Data Access
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_component_registry/" class="md-nav__link">
        Task Component Registry
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Multi-Party Job&Task Scheduling
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Multi-Party Job&Task Scheduling
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-description" class="md-nav__link">
    1. Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-job-submission" class="md-nav__link">
    2. Job submission
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-job-dsl-configuration-description" class="md-nav__link">
    3. Job DSL configuration description
  </a>
  
    <nav class="md-nav" aria-label="3. Job DSL configuration description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-component-list" class="md-nav__link">
    3.1 Component List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-modules" class="md-nav__link">
    3.2 Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-inputs" class="md-nav__link">
    3.3 Inputs
  </a>
  
    <nav class="md-nav" aria-label="3.3 Inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-input" class="md-nav__link">
    data input
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_input" class="md-nav__link">
    model_input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-output" class="md-nav__link">
    3.4 Output
  </a>
  
    <nav class="md-nav" aria-label="3.4 Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-output" class="md-nav__link">
    data output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-output" class="md-nav__link">
    Model Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-component-providers" class="md-nav__link">
    3.5 Component Providers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-job-conf-configuration-description" class="md-nav__link">
    4. Job Conf Configuration Description
  </a>
  
    <nav class="md-nav" aria-label="4. Job Conf Configuration Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-dsl-version" class="md-nav__link">
    4.1 DSL Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-job-participants" class="md-nav__link">
    4.2 Job participants
  </a>
  
    <nav class="md-nav" aria-label="4.2 Job participants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initiating-party" class="md-nav__link">
    initiating party
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all-participants" class="md-nav__link">
    All participants
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-system-operation-parameters" class="md-nav__link">
    4.3 System operation parameters
  </a>
  
    <nav class="md-nav" aria-label="4.3 System operation parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-application-scope-policy-setting" class="md-nav__link">
    Parameter application scope policy setting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-system-parameters" class="md-nav__link">
    Supported system parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-configuration" class="md-nav__link">
    reference configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-component-operation-parameters" class="md-nav__link">
    4.3 Component operation parameters
  </a>
  
    <nav class="md-nav" aria-label="4.3 Component operation parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-application-scope-policy-setting_1" class="md-nav__link">
    Parameter application scope policy setting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-configuration_1" class="md-nav__link">
    Reference Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-multi-host-configuration" class="md-nav__link">
    5. Multi-Host Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-predictive-task-configuration" class="md-nav__link">
    6. Predictive Task Configuration
  </a>
  
    <nav class="md-nav" aria-label="6. Predictive Task Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-description" class="md-nav__link">
    6.1 Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-sample" class="md-nav__link">
    6.2 Sample
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-job-reruns" class="md-nav__link">
    7. Job reruns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-job-parameter-update" class="md-nav__link">
    8. Job parameter update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-job-scheduling-policy" class="md-nav__link">
    9. Job scheduling policy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-dependency-distribution" class="md-nav__link">
    10. dependency distribution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-more-commands" class="md-nav__link">
    11. More commands
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_resource_management/" class="md-nav__link">
        Multi-Party Resource Coordination
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_tracking/" class="md-nav__link">
        Data Flow Tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_monitoring/" class="md-nav__link">
        Real-Time Monitoring
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_model_registry/" class="md-nav__link">
        Federated Model Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_authority_management/" class="md-nav__link">
        Certification program
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_permission_management/" class="md-nav__link">
        Fate flow permission management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_server_operation/" class="md-nav__link">
        Server Operation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_service_registry/" class="md-nav__link">
        Service Registry
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_model_migration/" class="md-nav__link">
        Inter-cluster Model Migration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_client/" class="md-nav__link">
        FATE Flow Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../fate_flow_http_api_call_demo/" class="md-nav__link">
        REST API CLIENT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../configuration_instruction/" class="md-nav__link">
        Configuration Instructions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../system_operational/" class="md-nav__link">
        System Operation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../swagger/" class="md-nav__link">
        API
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-description" class="md-nav__link">
    1. Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-job-submission" class="md-nav__link">
    2. Job submission
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-job-dsl-configuration-description" class="md-nav__link">
    3. Job DSL configuration description
  </a>
  
    <nav class="md-nav" aria-label="3. Job DSL configuration description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-component-list" class="md-nav__link">
    3.1 Component List
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-modules" class="md-nav__link">
    3.2 Modules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-inputs" class="md-nav__link">
    3.3 Inputs
  </a>
  
    <nav class="md-nav" aria-label="3.3 Inputs">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-input" class="md-nav__link">
    data input
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model_input" class="md-nav__link">
    model_input
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-output" class="md-nav__link">
    3.4 Output
  </a>
  
    <nav class="md-nav" aria-label="3.4 Output">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#data-output" class="md-nav__link">
    data output
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-output" class="md-nav__link">
    Model Output
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-component-providers" class="md-nav__link">
    3.5 Component Providers
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-job-conf-configuration-description" class="md-nav__link">
    4. Job Conf Configuration Description
  </a>
  
    <nav class="md-nav" aria-label="4. Job Conf Configuration Description">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-dsl-version" class="md-nav__link">
    4.1 DSL Version
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-job-participants" class="md-nav__link">
    4.2 Job participants
  </a>
  
    <nav class="md-nav" aria-label="4.2 Job participants">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#initiating-party" class="md-nav__link">
    initiating party
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#all-participants" class="md-nav__link">
    All participants
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-system-operation-parameters" class="md-nav__link">
    4.3 System operation parameters
  </a>
  
    <nav class="md-nav" aria-label="4.3 System operation parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-application-scope-policy-setting" class="md-nav__link">
    Parameter application scope policy setting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supported-system-parameters" class="md-nav__link">
    Supported system parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-configuration" class="md-nav__link">
    reference configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-component-operation-parameters" class="md-nav__link">
    4.3 Component operation parameters
  </a>
  
    <nav class="md-nav" aria-label="4.3 Component operation parameters">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameter-application-scope-policy-setting_1" class="md-nav__link">
    Parameter application scope policy setting
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reference-configuration_1" class="md-nav__link">
    Reference Configuration
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-multi-host-configuration" class="md-nav__link">
    5. Multi-Host Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-predictive-task-configuration" class="md-nav__link">
    6. Predictive Task Configuration
  </a>
  
    <nav class="md-nav" aria-label="6. Predictive Task Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#61-description" class="md-nav__link">
    6.1 Description
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#62-sample" class="md-nav__link">
    6.2 Sample
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-job-reruns" class="md-nav__link">
    7. Job reruns
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#8-job-parameter-update" class="md-nav__link">
    8. Job parameter update
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#9-job-scheduling-policy" class="md-nav__link">
    9. Job scheduling policy
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#10-dependency-distribution" class="md-nav__link">
    10. dependency distribution
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#11-more-commands" class="md-nav__link">
    11. More commands
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  



<h1 id="multi-party-jobtask-scheduling">Multi-Party Job&amp;Task Scheduling<a class="headerlink" href="#multi-party-jobtask-scheduling" title="Permanent link">&para;</a></h1>
<h2 id="1-description">1. Description<a class="headerlink" href="#1-description" title="Permanent link">&para;</a></h2>
<p>Mainly describes how to submit a federated learning job using <code>FATE Flow</code> and observe the use of</p>
<h2 id="2-job-submission">2. Job submission<a class="headerlink" href="#2-job-submission" title="Permanent link">&para;</a></h2>
<ul>
<li>Build a federated learning job and submit it to the scheduling system for execution</li>
<li>Two configuration files are required: job dsl and job conf</li>
<li>job dsl configures the running components: list, input-output relationships</li>
<li>job conf configures the component execution parameters, system operation parameters</li>
</ul>
<p>Build a federated learning job with two configuration files: job dsl and job conf, and submit it to the scheduler for execution</p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>submit<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>
<p><strong>Options</strong></p>
<table>
<thead>
<tr>
<th align="left">parameter name</th>
<th align="left">required</th>
<th align="left">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">-d, --dsl-path</td>
<td align="left">yes</td>
<td align="left">string</td>
<td>path to job dsl</td>
</tr>
<tr>
<td align="left">-c, --conf-path</td>
<td align="left">yes</td>
<td align="left">string</td>
<td>job conf's path</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong></p>
<table>
<thead>
<tr>
<th align="left">parameter name</th>
<th align="left">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">retcode</td>
<td align="left">int</td>
<td>return code</td>
</tr>
<tr>
<td align="left">retmsg</td>
<td align="left">string</td>
<td>return message</td>
</tr>
<tr>
<td align="left">jobId</td>
<td align="left">string</td>
<td>Job ID</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">dict</td>
<td>return data</td>
</tr>
<tr>
<td align="left">data.dsl_path</td>
<td align="left">string</td>
<td>The path to the actual running dsl configuration generated by the system based on the submitted dsl content</td>
</tr>
<tr>
<td align="left">data.runtime_conf_on_party_path</td>
<td align="left">string</td>
<td>The system-generated path to the actual running conf configuration for each party based on the submitted conf content</td>
</tr>
<tr>
<td align="left">data.dsl_path</td>
<td align="left">string</td>
<td>The system-generated path to the actual running conf configuration for each party based on the submitted conf content</td>
</tr>
<tr>
<td align="left">data.board_url</td>
<td align="left">string</td>
<td>fateboard view address</td>
</tr>
<tr>
<td align="left">data.model_info</td>
<td align="left">dict</td>
<td>Model identification information</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;board_url&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;http://127.0.0.1:8080/index.html#/dashboard?job_id=202111061608424372620&amp;role=guest&amp;party_id=9999&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;dsl_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$FATE_PROJECT_BASE/jobs/202111061608424372620/job_dsl.json&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;job_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;202111061608424372620&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;logs_directory&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$FATE_PROJECT_BASE/logs/202111061608424372620&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;model_info&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;model_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;arbiter-10000#guest-9999#host-10000#model&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;model_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;202111061608424372620&quot;</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;pipeline_dsl_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$FATE_PROJECT_BASE/jobs/202111061608424372620/pipeline_dsl.json&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;runtime_conf_on_party_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$FATE_FATE_PROJECT_BASE/jobs/202111061608424372620/guest/9999/job_runtime_on_party_conf.json&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;runtime_conf_path&quot;</span><span class="p">:</span><span class="s2">&quot;$FATE_PROJECT_BASE/jobs/202111061608424372620/job_runtime_conf.json&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;train_runtime_conf_path&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$FATE_PROJECT_BASE/jobs/202111061608424372620/train_runtime_conf.json&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;jobId&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;202111061608424372620&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;retcode&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;retmsg&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;success&quot;</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="3-job-dsl-configuration-description">3. Job DSL configuration description<a class="headerlink" href="#3-job-dsl-configuration-description" title="Permanent link">&para;</a></h2>
<p>The configuration file of DSL is in json format, in fact, the whole configuration file is a json object (dict).</p>
<h3 id="31-component-list">3.1 Component List<a class="headerlink" href="#31-component-list" title="Permanent link">&para;</a></h3>
<p><strong>Description</strong> The first level of this dict is <code>components</code>, which indicates the modules that will be used by this job.
<strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;components&quot;</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="err">...</span>
<span class="w">      </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Each individual module is defined under "components", e.g.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DataTransform&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">              </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                  </span><span class="s2">&quot;reader_0.train_data&quot;</span>
<span class="w">              </span><span class="p">]</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">],</span>
<span class="w">          </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;model&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
</code></pre></div>
<p>All data needs to be fetched from the data store via the <strong>Reader</strong> module, note that this module only has the output <code>output</code></p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reader&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;train&quot;</span><span class="p">]</span>
<span class="w">      </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="32-modules">3.2 Modules<a class="headerlink" href="#32-modules" title="Permanent link">&para;</a></h3>
<p><strong>Description</strong> Used to specify the components to be used, all optional module names refer to.
<strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;hetero_feature_binning_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HeteroFeatureBinning&quot;</span><span class="p">,</span>
<span class="w">     </span><span class="err">...</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="33-inputs">3.3 Inputs<a class="headerlink" href="#33-inputs" title="Permanent link">&para;</a></h3>
<p><strong>Implications</strong> Upstream inputs, divided into two input types, data and model.</p>
<h4 id="data-input">data input<a class="headerlink" href="#data-input" title="Permanent link">&para;</a></h4>
<p><strong>Description</strong> Upstream data input, divided into three input types.</p>
<div class="highlight"><pre><span></span><code>&gt; 1. data: generally used in the data-transform module, feature_engineering module or
&gt; evaluation module.
&gt; 2. train_data: Generally used in homo_lr, hetero_lr and secure_boost
&gt; modules. If the train_data field is present, then the task will be recognized as a fit task
&gt; validate_data: If the train_data
&gt; field is present, then the field is optional. If you choose to keep this field, the data pointed to will be used as the
&gt; validation set
&gt; 4. test_data: Used as prediction data, if provided, along with model input.
</code></pre></div>
<h4 id="model_input">model_input<a class="headerlink" href="#model_input" title="Permanent link">&para;</a></h4>
<p><strong>Description</strong> Upstream model input, divided into two input types.
    1. model: Used for model input of the same type of component. For example, hetero_binning_0 will fit the model, and then
        hetero_binning_1 will use the output of hetero_binning_0 for predict or
        transform. code example.</p>
<p><div class="highlight"><pre><span></span><code><span class="w">        </span><span class="nt">&quot;hetero_feature_binning_1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HeteroFeatureBinning&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">&quot;data_transform_1.validate_data&quot;</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;hetero_feature_binning_0.fit_model&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;validate_data&quot;</span><span class="w"> </span><span class="p">],</span>
<span class="w">              </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;eval_model&quot;</span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
</code></pre></div>
    2. isometric_model: Used to specify the model input of the inherited upstream component. For example, the upstream component of feature selection is
        feature binning, it will use the information of feature binning as the feature
        Code example.
<div class="highlight"><pre><span></span><code><span class="w">        </span><span class="nt">&quot;hetero_feature_selection_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HeteroFeatureSelection&quot;</span><span class="p">,</span>
<span class="w">            </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                    </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                        </span><span class="s2">&quot;hetero_feature_binning_0.train&quot;</span>
<span class="w">                    </span><span class="p">]</span>
<span class="w">                </span><span class="p">},</span>
<span class="w">                </span><span class="nt">&quot;isometric_model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;hetero_feature_binning_0.output_model&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">},</span>
<span class="w">            </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">&quot;train&quot;</span><span class="w"> </span><span class="p">],</span>
<span class="w">                </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;output_model&quot;</span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
</code></pre></div></p>
<h3 id="34-output">3.4 Output<a class="headerlink" href="#34-output" title="Permanent link">&para;</a></h3>
<p><strong>Description</strong> Output, like input, is divided into data and model output</p>
<h4 id="data-output">data output<a class="headerlink" href="#data-output" title="Permanent link">&para;</a></h4>
<p><strong>Description</strong> Data output, divided into four output types.</p>
<ol>
<li>data: General module data output</li>
<li>train_data: only for Data Split</li>
<li>validate_data: Only for Data Split</li>
<li>test_data: Data Split only</li>
</ol>
<h4 id="model-output">Model Output<a class="headerlink" href="#model-output" title="Permanent link">&para;</a></h4>
<p><strong>Description</strong> Model output, using model only</p>
<h3 id="35-component-providers">3.5 Component Providers<a class="headerlink" href="#35-component-providers" title="Permanent link">&para;</a></h3>
<p>Since FATE-Flow version 1.7.0, the same FATE-Flow system supports loading multiple component providers, i.e. providers, which provide several components, and the source provider of the component can be configured when submitting a job
Since FATE-Flow version 1.9.0, the parameters of the provider need to be configured in job conf, as follows</p>
<p><strong>Description</strong> Specify the provider, support global specification and individual component specification; if not specified, the default provider: <code>fate@$FATE_VERSION</code></p>
<p><strong>Format</strong> <code>provider_name@$provider_version</code></p>
<p><strong>Advanced</strong> You can register a new provider through the component registration CLI, currently supported providers: fate and fate_sql, please refer to <a href="../fate_flow_component_registry/">FATE Flow Component Center</a></p>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;dsl_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span><span class="p">,</span>
<span class="w">  </span><span class="nt">&quot;initiator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;job_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;component_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{},</span>
<span class="w">  </span><span class="nt">&quot;provider&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;hetero_feature_binning_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fate@1.8.0&quot;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fate@1.9.0&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;fate@1.9.0&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="4-job-conf-configuration-description">4. Job Conf Configuration Description<a class="headerlink" href="#4-job-conf-configuration-description" title="Permanent link">&para;</a></h2>
<p>Job Conf is used to set the information of each participant, the parameters of the job and the parameters of each component. The contents include the following.</p>
<h3 id="41-dsl-version">4.1 DSL Version<a class="headerlink" href="#41-dsl-version" title="Permanent link">&para;</a></h3>
<p><strong>Description</strong> Configure the version, the default is not 1, it is recommended to configure 2
<strong>Example</strong>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;dsl_version&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2&quot;</span>
</code></pre></div></p>
<h3 id="42-job-participants">4.2 Job participants<a class="headerlink" href="#42-job-participants" title="Permanent link">&para;</a></h3>
<h4 id="initiating-party">initiating party<a class="headerlink" href="#initiating-party" title="Permanent link">&para;</a></h4>
<p><strong>Description</strong> The role and party_id of the assignment initiator.
<strong>Example</strong>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;initiator&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;guest&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;party_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">9999</span>
<span class="p">}</span>
</code></pre></div></p>
<h4 id="all-participants">All participants<a class="headerlink" href="#all-participants" title="Permanent link">&para;</a></h4>
<p><strong>Description</strong> Information about each participant.
<strong>Description</strong> In the role field, each element represents a role and the party_id that assumes that role. party_id for each role
    The party_id of each role is in the form of a list, since a task may involve multiple parties in the same role.
<strong>Example</strong></p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">9999</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10000</span><span class="p">],</span>
<span class="w">    </span><span class="nt">&quot;arbiter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mi">10000</span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<h3 id="43-system-operation-parameters">4.3 System operation parameters<a class="headerlink" href="#43-system-operation-parameters" title="Permanent link">&para;</a></h3>
<p><strong>Description</strong>
    Configure the main system parameters for job runtime</p>
<h4 id="parameter-application-scope-policy-setting">Parameter application scope policy setting<a class="headerlink" href="#parameter-application-scope-policy-setting" title="Permanent link">&para;</a></h4>
<p>**Apply to all participants, use the common scope identifier
**Apply to only one participant, use the role scope identifier, use (role:)party_index to locate the specified participant, direct</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The parameters under common are applied to all participants, and the parameters under role-guest-0 configuration are applied to the participants under the subscript 0 of the guest role.
Note that the current version of the system operation parameters are not strictly tested for application to only one participant, so it is recommended to use common as a preference.</p>
<h4 id="supported-system-parameters">Supported system parameters<a class="headerlink" href="#supported-system-parameters" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>Configuration</th>
<th>Default</th>
<th>Supported</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>job_type</td>
<td>train</td>
<td>train, predict</td>
<td>task_cores</td>
</tr>
<tr>
<td>task_cores</td>
<td>4</td>
<td>positive_integer</td>
<td>total_cpu_cores_applied_to_job</td>
</tr>
<tr>
<td>task_parallelism</td>
<td>1</td>
<td>positive_integer</td>
<td>task_parallelism</td>
</tr>
<tr>
<td>computing_partitions</td>
<td>number of cpu cores allocated to task</td>
<td>positive integer</td>
<td>number of partitions in the data table at computation time</td>
</tr>
<tr>
<td>eggroll_run</td>
<td>none</td>
<td>processors_per_node, etc.</td>
<td>eggroll computing engine related configuration parameters, generally do not need to be configured, from task_cores automatically calculated, if configured, task_cores parameters do not take effect</td>
</tr>
<tr>
<td>spark_run</td>
<td>none</td>
<td>num-executors, executor-cores, etc.</td>
<td>spark compute engine related configuration parameters, generally do not need to be configured, automatically calculated by task_cores, if configured, task_cores parameters do not take effect</td>
</tr>
<tr>
<td>rabbitmq_run</td>
<td>None</td>
<td>queue, exchange, etc.</td>
<td>Configuration parameters for rabbitmq to create queue, exchange, etc., which are generally not required and take the system defaults.</td>
</tr>
<tr>
<td>pulsar_run</td>
<td>none</td>
<td>producer, consumer, etc.</td>
<td>The configuration parameters for pulsar to create producer and consumer.</td>
</tr>
<tr>
<td>federated_status_collect_type</td>
<td>PUSH</td>
<td>PUSH, PULL</td>
<td>Multi-party run status collection mode, PUSH means that each participant actively reports to the initiator, PULL means that the initiator periodically pulls from each participant.</td>
</tr>
<tr>
<td>timeout</td>
<td>259200 (3 days)</td>
<td>positive integer</td>
<td>task_timeout,unit_second</td>
</tr>
<tr>
<td>audo_retries</td>
<td>3</td>
<td>positive integer</td>
<td>maximum number of retries per task failure</td>
</tr>
<tr>
<td>model_id</td>
<td>-</td>
<td>-</td>
<td>The model id to be filled in for prediction tasks.</td>
</tr>
<tr>
<td>model_version</td>
<td>-</td>
<td>-</td>
<td>Model version, required for prediction tasks</td>
</tr>
</tbody>
</table>
<ol>
<li>there is a certain support dependency between the computation engine and the storage engine</li>
<li>developers can implement their own adapted engines, and configure the engines in runtime config</li>
</ol>
<h4 id="reference-configuration">reference configuration<a class="headerlink" href="#reference-configuration" title="Permanent link">&para;</a></h4>
<ol>
<li>no need to pay attention to the compute engine, take the system default cpu allocation compute policy when the configuration</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;job_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;train&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;task_cores&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;task_parallelism&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;computing_partitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">36000</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ol>
<li>use eggroll as the computing engine, take the configuration when specifying cpu and other parameters directly</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;job_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;train&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;eggroll_run&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;eggroll.session.processors.per.node&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;task_parallelism&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;computing_partitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">36000</span><span class="p">,</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ol>
<li>use spark as the computing engine, rabbitmq as the federation engine, take the configuration when specifying the cpu and other parameters directly</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;job_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;job_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;train&quot;</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;spark_run&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;num-executors&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;executor-cores&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;task_parallelism&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;computing_partitions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;timeout&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">36000</span><span class="p">,</span>
<span class="w">    </span><span class="nt">&quot;rabbitmq_run&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;queue&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;durable&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nt">&quot;connection&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;heartbeat&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10000</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<ol>
<li>use spark as the computing engine and pulsar as the federation engine</li>
</ol>
<p><div class="highlight"><pre><span></span><code><span class="nt">&quot;job_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;spark_run&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;num-executors&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;executor-cores&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
For more advanced resource-related configuration, please refer to <a href="#4-Resource Management">Resource Management</a></p>
<h3 id="43-component-operation-parameters">4.3 Component operation parameters<a class="headerlink" href="#43-component-operation-parameters" title="Permanent link">&para;</a></h3>
<h4 id="parameter-application-scope-policy-setting_1">Parameter application scope policy setting<a class="headerlink" href="#parameter-application-scope-policy-setting_1" title="Permanent link">&para;</a></h4>
<ul>
<li>Apply to all participants, use common scope identifier</li>
<li>Apply to only one participant, use the role scope identifier, use (role:)party_index to locate the specified participant, directly specified parameters have higher priority than common parameters</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;commom&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="p">}</span>

<span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>where the parameters under the common configuration are applied to all participants, and the parameters under the role-guest-0 configuration indicate that they are applied to the participants under the subscript 0 of the guest role
Note that the current version of the component runtime parameter already supports two application scope policies</p>
<h4 id="reference-configuration_1">Reference Configuration<a class="headerlink" href="#reference-configuration_1" title="Permanent link">&para;</a></h4>
<ul>
<li>For the <code>intersection_0</code> and <code>hetero_lr_0</code> components, the runtime parameters are placed under the common scope and are applied to all participants</li>
<li>The operational parameters of <code>reader_0</code> and <code>data_transform_0</code> components are configured specific to each participant, because usually the input parameters are not consistent across participants, so usually these two components are set by participant</li>
<li>The above component names are defined in the DSL configuration file</li>
</ul>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;component_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nt">&quot;common&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;intersection_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;intersect_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;sync_intersect_ids&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;only_output_key&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;hetero_lr_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;penalty&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;L2&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;optimizer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;rmsprop&quot;</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;alpha&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.01</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;max_iter&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;batch_size&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">320</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;learning_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.15</span><span class="p">,</span>
<span class="w">      </span><span class="nt">&quot;init_param&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;init_method&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;random_uniform&quot;</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;breast_hetero_guest&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;experiment&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:{</span>
<span class="w">          </span><span class="nt">&quot;with_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;label_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;y&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;label_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;int&quot;</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;output_format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dense&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nt">&quot;table&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;breast_hetero_host&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;experiment&quot;</span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:{</span>
<span class="w">          </span><span class="nt">&quot;with_label&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">          </span><span class="nt">&quot;output_format&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;dense&quot;</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="5-multi-host-configuration">5. Multi-Host Configuration<a class="headerlink" href="#5-multi-host-configuration" title="Permanent link">&para;</a></h2>
<p>Multi-Host task should list all host information under role</p>
<p><strong>Example</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;guest&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">     </span><span class="mi">10000</span>
<span class="w">   </span><span class="p">],</span>
<span class="w">   </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">     </span><span class="mi">10000</span><span class="p">,</span><span class="w"> </span><span class="mi">10001</span><span class="p">,</span><span class="w"> </span><span class="mi">10002</span>
<span class="w">   </span><span class="p">],</span>
<span class="w">   </span><span class="nt">&quot;arbiter&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">     </span><span class="mi">10000</span>
<span class="w">   </span><span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>The different configurations for each host should be listed separately under their respective corresponding modules</p>
<p><strong>Example</strong>:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;component_parameters&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">   </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">&quot;host&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">         </span><span class="nt">&quot;0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;table&quot;</span><span class="p">:</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hetero_breast_host_0&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hetero_breast_host&quot;</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;1&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;table&quot;</span><span class="p">:</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hetero_breast_host_1&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hetero_breast_host&quot;</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;2&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">               </span><span class="nt">&quot;table&quot;</span><span class="p">:</span>
<span class="w">               </span><span class="p">{</span>
<span class="w">                  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hetero_breast_host_2&quot;</span><span class="p">,</span>
<span class="w">                  </span><span class="nt">&quot;namespace&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;hetero_breast_host&quot;</span>
<span class="w">               </span><span class="p">}</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">}</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">   </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="6-predictive-task-configuration">6. Predictive Task Configuration<a class="headerlink" href="#6-predictive-task-configuration" title="Permanent link">&para;</a></h2>
<h3 id="61-description">6.1 Description<a class="headerlink" href="#61-description" title="Permanent link">&para;</a></h3>
<p>DSL V2 does not automatically generate prediction dsl for the training task. Users need to deploy the modules in the required model using <code>Flow Client</code> first.
For detailed command description, please refer to <a href="../fate_flow_client/">fate_flow_client</a></p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>model<span class="w"> </span>deploy<span class="w"> </span>--model-id<span class="w"> </span><span class="nv">$model_id</span><span class="w"> </span>--model-version<span class="w"> </span><span class="nv">$model_version</span><span class="w"> </span>--cpn-list<span class="w"> </span>...
</code></pre></div>
<p>Optionally, the user can add new modules to the prediction dsl, such as <code>Evaluation</code></p>
<h3 id="62-sample">6.2 Sample<a class="headerlink" href="#62-sample" title="Permanent link">&para;</a></h3>
<p>Training dsl.</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;components&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reader&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DataTransform&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;reader_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;model&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;intersection_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Intersection&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;data_transform_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;hetero_nn_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HeteroNN&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;train_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;intersection_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;model&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>Prediction dsl:</p>
<div class="highlight"><pre><span></span><code><span class="nt">&quot;components&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">&quot;reader_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Reader&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;data_transform_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;DataTransform&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;reader_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;model&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;intersection_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Intersection&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;data_transform_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;hetero_nn_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;HeteroNN&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;train_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;intersection_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;data&quot;</span>
<span class="w">            </span><span class="p">],</span>
<span class="w">            </span><span class="nt">&quot;model&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                </span><span class="s2">&quot;model&quot;</span>
<span class="w">            </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nt">&quot;evaluation_0&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nt">&quot;module&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Evaluation&quot;</span><span class="p">,</span>
<span class="w">        </span><span class="nt">&quot;input&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">                </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                    </span><span class="s2">&quot;hetero_nn_0.data&quot;</span>
<span class="w">                </span><span class="p">]</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">         </span><span class="p">},</span>
<span class="w">         </span><span class="nt">&quot;output&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">             </span><span class="nt">&quot;data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">                 </span><span class="s2">&quot;data&quot;</span>
<span class="w">             </span><span class="p">]</span>
<span class="w">          </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h2 id="7-job-reruns">7. Job reruns<a class="headerlink" href="#7-job-reruns" title="Permanent link">&para;</a></h2>
<p>In <code>1.5.0</code>, we started to support re-running a job, but only failed jobs are supported.
Version <code>1.7.0</code> supports rerunning of successful jobs, and you can specify which component to rerun from, the specified component and its downstream components will be rerun, but other components will not be rerun</p>
<p>Rerun a job</p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>rerun<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>
<p><strong>Options</strong></p>
<p>| parameter name | required | type | description |
| :------------- | :------- | :--- | ----------- |------- |
| -j, --job-id | yes | string | job id path |
| --cpn, --component-name | no | string | Specifies which component to rerun from, unspecified components will not be executed if they have no upstream dependencies on the specified component; if not specified, the entire job will be rerun |
| --force | no | bool | The job will be rerun even if it succeeds; if not specified, the job will be skipped if it succeeds |</p>
<p><strong>Returns</strong></p>
<table>
<thead>
<tr>
<th align="left">parameter name</th>
<th align="left">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">retcode</td>
<td align="left">int</td>
<td>return code</td>
</tr>
<tr>
<td align="left">retmsg</td>
<td align="left">string</td>
<td>return message</td>
</tr>
<tr>
<td align="left">jobId</td>
<td align="left">string</td>
<td>Job ID</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">dict</td>
<td>return data</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>rerun<span class="w"> </span>-j<span class="w"> </span><span class="m">202111031100369723120</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>rerun<span class="w"> </span>-j<span class="w"> </span><span class="m">202111031100369723120</span><span class="w"> </span>-cpn<span class="w"> </span>hetero_lr_0
</code></pre></div>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>rerun<span class="w"> </span>-j<span class="w"> </span><span class="m">202111031100369723120</span><span class="w"> </span>-cpn<span class="w"> </span>hetero_lr_0<span class="w"> </span>--force<span class="w"> </span>
</code></pre></div>
<h2 id="8-job-parameter-update">8. Job parameter update<a class="headerlink" href="#8-job-parameter-update" title="Permanent link">&para;</a></h2>
<p>In the actual production modeling process, it is necessary to constantly debug the component parameters and rerun, but not all components need to be adjusted and rerun at this time, so after <code>1.7.0</code> version support to modify a component parameter update, and with the <code>rerun</code> command on-demand rerun</p>
<p>Update the job parameters</p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>parameter-update<span class="w"> </span><span class="o">[</span>options<span class="o">]</span>
</code></pre></div>
<p><strong>Options</strong></p>
<table>
<thead>
<tr>
<th align="left">parameter-name</th>
<th align="left">required</th>
<th align="left">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">-j, --job-id</td>
<td align="left">yes</td>
<td align="left">string</td>
<td>job id path</td>
</tr>
<tr>
<td align="left">-c, --conf-path</td>
<td align="left">yes</td>
<td align="left">string</td>
<td>The contents of the job conf that needs to be updated, no need to fill in parameters that don't need to be updated</td>
</tr>
</tbody>
</table>
<p><strong>Returns</strong></p>
<table>
<thead>
<tr>
<th align="left">parameter name</th>
<th align="left">type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">retcode</td>
<td align="left">int</td>
<td>return code</td>
</tr>
<tr>
<td align="left">retmsg</td>
<td align="left">string</td>
<td>return message</td>
</tr>
<tr>
<td align="left">jobId</td>
<td align="left">string</td>
<td>Job ID</td>
</tr>
<tr>
<td align="left">data</td>
<td align="left">dict</td>
<td>Returns the updated job conf</td>
</tr>
</tbody>
</table>
<p><strong>Example</strong></p>
<p>Assuming that the job is updated with some of the execution parameters of the hetero_lr_0 component, the configuration file is as follows.
<div class="highlight"><pre><span></span><code><span class="o">{</span>
<span class="w">  </span><span class="s2">&quot;job_parameters&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">  </span><span class="o">}</span>,
<span class="w">  </span><span class="s2">&quot;component_parameters&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">    </span><span class="s2">&quot;common&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">      </span><span class="s2">&quot;hetero_lr_0&quot;</span>:<span class="w"> </span><span class="o">{</span>
<span class="w">        </span><span class="s2">&quot;alpha&quot;</span>:<span class="w"> </span><span class="m">0</span>.02,
<span class="w">        </span><span class="s2">&quot;max_iter&quot;</span>:<span class="w"> </span><span class="m">5</span>
<span class="w">      </span><span class="o">}</span>
<span class="w">    </span><span class="o">}</span>
<span class="w">  </span><span class="o">}</span>
<span class="o">}</span>
</code></pre></div></p>
<p>Execution of the following command takes effect.</p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>parameter-update<span class="w"> </span>-j<span class="w"> </span><span class="m">202111061957421943730</span><span class="w"> </span>-c<span class="w"> </span>examples/other/update_parameters.json
</code></pre></div>
<p>Execute the following command to rerun.</p>
<div class="highlight"><pre><span></span><code>flow<span class="w"> </span>job<span class="w"> </span>rerun<span class="w"> </span>-j<span class="w"> </span><span class="m">202111061957421943730</span><span class="w"> </span>-cpn<span class="w"> </span>hetero_lr_0<span class="w"> </span>--force<span class="w"> </span>
</code></pre></div>
<h2 id="9-job-scheduling-policy">9. Job scheduling policy<a class="headerlink" href="#9-job-scheduling-policy" title="Permanent link">&para;</a></h2>
<ul>
<li>Queuing by commit time</li>
<li>Currently, only FIFO policy is supported, i.e. the scheduler will only scan the first job each time, if the first job is successful in requesting resources, it will start and get out of the queue, if the request fails, it will wait for the next round of scheduling.</li>
</ul>
<h2 id="10-dependency-distribution">10. dependency distribution<a class="headerlink" href="#10-dependency-distribution" title="Permanent link">&para;</a></h2>
<p><strong>Brief description:</strong> </p>
<ul>
<li>Support for distributing fate and python dependencies from client nodes;</li>
<li>The work node does not need to deploy fate;</li>
<li>Only fate on spark supports distribution mode in current version;</li>
</ul>
<p><strong>Related parameters configuration</strong>:</p>
<p>conf/service_conf.yaml:</p>
<div class="highlight"><pre><span></span><code><span class="nt">dependent_distribution</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span>
</code></pre></div>
<p>fate_flow/settings.py</p>
<div class="highlight"><pre><span></span><code><span class="n">FATE_FLOW_UPDATE_CHECK</span> <span class="o">=</span> <span class="kc">False</span>
</code></pre></div>
<p><strong>Description:</strong></p>
<ul>
<li>
<p>dependent_distribution: dependent distribution switch;, off by default; when off, you need to deploy fate on each work node, and also fill in the configuration of spark in spark-env.sh to configure PYSPARK_DRIVER_PYTHON and PYSPARK_PYTHON.</p>
</li>
<li>
<p>FATE_FLOW_UPDATE_CHECK: Dependency check switch, turned off by default; it will automatically check if the fate code has changed every time a task is submitted; if it has changed, the fate code dependency will be re-uploaded;</p>
</li>
</ul>
<h2 id="11-more-commands">11. More commands<a class="headerlink" href="#11-more-commands" title="Permanent link">&para;</a></h2>
<p>Please refer to <a href="../cli/job/">Job CLI</a> and <a href="../cli/task/">Task CLI</a></p>





                
              </article>
            </div>
          
          
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      © Copyright 2022 WeBank Co., Ltd. | All Rights Reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.tabs.sticky", "navigation.expand", "navigation.indexes", "navigation.top", "navigation.instant", "header.autohide"], "search": "../assets/javascripts/workers/search.e5c33ebb.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.ba449ae6.min.js"></script>
      
        <script src="../mkdocs/js/termynal.js"></script>
      
        <script src="../mkdocs/js/custom.js"></script>
      
        <script src="../mkdocs/js/lottie-player.js"></script>
      
    
  </body>
</html>